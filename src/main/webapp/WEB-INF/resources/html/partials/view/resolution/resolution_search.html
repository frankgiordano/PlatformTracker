<div data-ng-init="init()">
    <div style="padding-bottom: 1%; padding-top: 2%">
        <h2>Search Resolutions</h2>
    </div>

    <form class="form-horizontal">
        <div class="form-group">
            <label class="control-label col-xs-2">Count Total</label>
            <div class="col-xs-10 form-control-static">
                {{data.total_count}}
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-2">Search by Grp Name</label>
            <div class="col-xs-3">
                <input type="text" ng-model="search" class="form-control" placeholder="Search by name">
            </div>
            <div class="col-xs-3 pull-right">
                <button data-ng-disabled="progress.active()" data-ng-click="new()"
                    class="btn btn-default pull-right">Create</button>
            </div>
        </div>
    </form>

    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th ng-click="sort('id')">ID
                    <span class="glyphicon sort-icon" ng-show="sortKey=='id'"
                        ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                </th>
                <th ng-click="sort('incidentGroup')">Incident Group Name
                    <span class="glyphicon sort-icon" ng-show="sortKey=='incidentGroup'"
                        ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                </th>
                <th ng-click="sort('horizon')">Horizon
                    <span class="glyphicon sort-icon" ng-show="sortKey=='horizon'"
                        ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                </th>
                <th ng-click="sort('owner')">Owner
                    <span class="glyphicon sort-icon" ng-show="sortKey=='owner'"
                        ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                </th>
                <th ng-click="sort('status')">Status
                    <span class="glyphicon sort-icon" ng-show="sortKey=='status'"
                        ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                </th>
                <th ng-click="sort('estCompletionDate')">Estimated Completion
                    <span class="glyphicon sort-icon" ng-show="sortKey=='estCompletionDate'"
                        ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                </th>
                <th ng-click="sort('actualCompletionDate')">Actual Completion Date
                    <span class="glyphicon sort-icon" ng-show="sortKey=='actualCompletionDate'"
                        ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                </th>
                <th ng-click="sort('type')">Type
                    <span class="glyphicon sort-icon" ng-show="sortKey=='type'"
                        ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                </th>
                <th ng-click="sort('sriArtifact')">SRI Artifact
                    <span class="glyphicon sort-icon" ng-show="sortKey=='sriArtifact'"
                        ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                </th>
                <th ng-click="sort('description')">Description
                    <span class="glyphicon sort-icon" ng-show="sortKey=='description'"
                        ng-class="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}"></span>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr class="btn-link" dir-paginate="resolution in data.results|orderBy:sortKey:reverse|itemsPerPage:10"
                total-items="data.total_count" ng-click="select(resolution.id)">
                <td>{{resolution.id}}</td>
                <td>{{resolution.incidentGroupName}}</td>
                <td>{{resolution.horizonName}}</td>
                <td>{{resolution.owner}}</td>
                <td>{{resolution.statusName}}</td>
                <td>{{resolution.estCompletionDate | dateFormatMinusTime}}</td>
                <td>{{resolution.actualCompletionDate | dateFormatMinusTime}}</td>
                <td>{{resolution.typeName}}</td>
                <td>{{resolution.sriArtifact}}</td>
                <td>{{resolution.description}}</td>
            </tr>
        </tbody>
    </table>
    <dir-pagination-controls max-size="5" direction-links="true" boundary-links="true"
        on-page-change="getData(newPageNumber)">
    </dir-pagination-controls>
</div>